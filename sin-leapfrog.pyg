from vpython import *

h = 0.01 # Set initial values
phi = 30
x = phi / 180.0 * pi
y = 0.5 - cos(x)
v= 0.0
v= v - sin(x) * h / 2.0

ball = sphere(pos=vector(x,y,0),color=color.red, radius=0.15) # Set objects
cyl = cylinder(pos=ball.pos, axis=-ball.pos,
               color=color.white, radius=0.01)

while True: # Iteration
    rate(400)
    ball.pos = vector(x,y,0)
    cyl.pos = ball.pos
    cyl.axis = -ball.pos
    x = x + v * h
    y = 0.5 - cos(x)
    v = v - sin(x) * h
